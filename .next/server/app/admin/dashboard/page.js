(()=>{var e={};e.id=427,e.ids=[427],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},2773:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c}),s(3624),s(5495),s(2523);var r=s(3191),t=s(8716),l=s(7922),i=s.n(l),n=s(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(a,d);let c=["",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3624)),"C:\\dev\\proyecto-inmobiliaria\\src\\app\\admin\\dashboard\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5495)),"C:\\dev\\proyecto-inmobiliaria\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,2523)),"C:\\dev\\proyecto-inmobiliaria\\src\\app\\not-found.tsx"]}],o=["C:\\dev\\proyecto-inmobiliaria\\src\\app\\admin\\dashboard\\page.tsx"],m="/admin/dashboard/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8540:(e,a,s)=>{Promise.resolve().then(s.bind(s,615))},8787:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});let r=(0,s(6557).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},5920:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});let r=(0,s(6557).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},7636:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});let r=(0,s(6557).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},165:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});let r=(0,s(6557).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},615:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>ag});var r=s(326),t=s(7577),l=s(2777),i=s(9752),n=s(1664),d=s(1190),c=s(7299),o=s(2561),m=s(8051),x=s(3095),u=s(8957),h=s(2067),g=s(825),p=s(441),f=s(3078),b=s(9815),j=s(5226),y=s(699),v=s(8260),N=s(5664),w=s(4214),k="Dialog",[C,_]=(0,x.b)(k),[R,S]=C(k),E=e=>{let{__scopeDialog:a,children:s,open:l,defaultOpen:i,onOpenChange:n,modal:d=!0}=e,c=t.useRef(null),o=t.useRef(null),[m,x]=(0,h.T)({prop:l,defaultProp:i??!1,onChange:n,caller:k});return(0,r.jsx)(R,{scope:a,triggerRef:c,contentRef:o,contentId:(0,u.M)(),titleId:(0,u.M)(),descriptionId:(0,u.M)(),open:m,onOpenChange:x,onOpenToggle:t.useCallback(()=>x(e=>!e),[x]),modal:d,children:s})};E.displayName=k;var M="DialogTrigger",I=t.forwardRef((e,a)=>{let{__scopeDialog:s,...t}=e,l=S(M,s),i=(0,m.e)(a,l.triggerRef);return(0,r.jsx)(j.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":K(l.open),...t,ref:i,onClick:(0,o.M)(e.onClick,l.onOpenToggle)})});I.displayName=M;var D="DialogPortal",[Z,F]=C(D,{forceMount:void 0}),A=e=>{let{__scopeDialog:a,forceMount:s,children:l,container:i}=e,n=S(D,a);return(0,r.jsx)(Z,{scope:a,forceMount:s,children:t.Children.map(l,e=>(0,r.jsx)(b.z,{present:s||n.open,children:(0,r.jsx)(f.h,{asChild:!0,container:i,children:e})}))})};A.displayName=D;var z="DialogOverlay",P=t.forwardRef((e,a)=>{let s=F(z,e.__scopeDialog),{forceMount:t=s.forceMount,...l}=e,i=S(z,e.__scopeDialog);return i.modal?(0,r.jsx)(b.z,{present:t||i.open,children:(0,r.jsx)(T,{...l,ref:a})}):null});P.displayName=z;var q=(0,w.Z8)("DialogOverlay.RemoveScroll"),T=t.forwardRef((e,a)=>{let{__scopeDialog:s,...t}=e,l=S(z,s);return(0,r.jsx)(v.Z,{as:q,allowPinchZoom:!0,shards:[l.contentRef],children:(0,r.jsx)(j.WV.div,{"data-state":K(l.open),...t,ref:a,style:{pointerEvents:"auto",...t.style}})})}),V="DialogContent",O=t.forwardRef((e,a)=>{let s=F(V,e.__scopeDialog),{forceMount:t=s.forceMount,...l}=e,i=S(V,e.__scopeDialog);return(0,r.jsx)(b.z,{present:t||i.open,children:i.modal?(0,r.jsx)(L,{...l,ref:a}):(0,r.jsx)($,{...l,ref:a})})});O.displayName=V;var L=t.forwardRef((e,a)=>{let s=S(V,e.__scopeDialog),l=t.useRef(null),i=(0,m.e)(a,s.contentRef,l);return t.useEffect(()=>{let e=l.current;if(e)return(0,N.Ry)(e)},[]),(0,r.jsx)(B,{...e,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,o.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:(0,o.M)(e.onPointerDownOutside,e=>{let a=e.detail.originalEvent,s=0===a.button&&!0===a.ctrlKey;(2===a.button||s)&&e.preventDefault()}),onFocusOutside:(0,o.M)(e.onFocusOutside,e=>e.preventDefault())})}),$=t.forwardRef((e,a)=>{let s=S(V,e.__scopeDialog),l=t.useRef(!1),i=t.useRef(!1);return(0,r.jsx)(B,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(l.current||s.triggerRef.current?.focus(),a.preventDefault()),l.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(l.current=!0,"pointerdown"!==a.detail.originalEvent.type||(i.current=!0));let r=a.target;s.triggerRef.current?.contains(r)&&a.preventDefault(),"focusin"===a.detail.originalEvent.type&&i.current&&a.preventDefault()}})}),B=t.forwardRef((e,a)=>{let{__scopeDialog:s,trapFocus:l,onOpenAutoFocus:i,onCloseAutoFocus:n,...d}=e,c=S(V,s),o=t.useRef(null),x=(0,m.e)(a,o);return(0,y.EW)(),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.M,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:i,onUnmountAutoFocus:n,children:(0,r.jsx)(g.XB,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":K(c.open),...d,ref:x,onDismiss:()=>c.onOpenChange(!1)})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ea,{titleId:c.titleId}),(0,r.jsx)(es,{contentRef:o,descriptionId:c.descriptionId})]})]})}),H="DialogTitle",Y=t.forwardRef((e,a)=>{let{__scopeDialog:s,...t}=e,l=S(H,s);return(0,r.jsx)(j.WV.h2,{id:l.titleId,...t,ref:a})});Y.displayName=H;var W="DialogDescription",G=t.forwardRef((e,a)=>{let{__scopeDialog:s,...t}=e,l=S(W,s);return(0,r.jsx)(j.WV.p,{id:l.descriptionId,...t,ref:a})});G.displayName=W;var Q="DialogClose",U=t.forwardRef((e,a)=>{let{__scopeDialog:s,...t}=e,l=S(Q,s);return(0,r.jsx)(j.WV.button,{type:"button",...t,ref:a,onClick:(0,o.M)(e.onClick,()=>l.onOpenChange(!1))})});function K(e){return e?"open":"closed"}U.displayName=Q;var X="DialogTitleWarning",[J,ee]=(0,x.k)(X,{contentName:V,titleName:H,docsSlug:"dialog"}),ea=({titleId:e})=>{let a=ee(X),s=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return t.useEffect(()=>{e&&!document.getElementById(e)&&console.error(s)},[s,e]),null},es=({contentRef:e,descriptionId:a})=>{let s=ee("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s.contentName}}.`;return t.useEffect(()=>{let s=e.current?.getAttribute("aria-describedby");a&&s&&!document.getElementById(a)&&console.warn(r)},[r,e,a]),null},er=s(4019),et=s(1223);let el=t.forwardRef(({className:e,...a},s)=>r.jsx(P,{ref:s,className:(0,et.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));el.displayName=P.displayName;let ei=t.forwardRef(({className:e,children:a,...s},t)=>(0,r.jsxs)(A,{children:[r.jsx(el,{}),(0,r.jsxs)(O,{ref:t,className:(0,et.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-200 bg-white text-gray-900 p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[a,(0,r.jsxs)(U,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(er.Z,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ei.displayName=O.displayName;let en=({className:e,...a})=>r.jsx("div",{className:(0,et.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});en.displayName="DialogHeader";let ed=t.forwardRef(({className:e,...a},s)=>r.jsx(Y,{ref:s,className:(0,et.cn)("text-lg font-semibold leading-none tracking-tight text-gray-900",e),...a}));ed.displayName=Y.displayName,t.forwardRef(({className:e,...a},s)=>r.jsx(G,{ref:s,className:(0,et.cn)("text-sm text-muted-foreground",e),...a})).displayName=G.displayName;var ec=s(545),eo=s(5049),em=s(7124),ex="rovingFocusGroup.onEntryFocus",eu={bubbles:!1,cancelable:!0},eh="RovingFocusGroup",[eg,ep,ef]=(0,ec.B)(eh),[eb,ej]=(0,x.b)(eh,[ef]),[ey,ev]=eb(eh),eN=t.forwardRef((e,a)=>(0,r.jsx)(eg.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,r.jsx)(eg.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,r.jsx)(ew,{...e,ref:a})})}));eN.displayName=eh;var ew=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:s,orientation:l,loop:i=!1,dir:n,currentTabStopId:d,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:x,onEntryFocus:u,preventScrollOnEntryFocus:g=!1,...p}=e,f=t.useRef(null),b=(0,m.e)(a,f),y=(0,em.gm)(n),[v,N]=(0,h.T)({prop:d,defaultProp:c??null,onChange:x,caller:eh}),[w,k]=t.useState(!1),C=(0,eo.W)(u),_=ep(s),R=t.useRef(!1),[S,E]=t.useState(0);return t.useEffect(()=>{let e=f.current;if(e)return e.addEventListener(ex,C),()=>e.removeEventListener(ex,C)},[C]),(0,r.jsx)(ey,{scope:s,orientation:l,dir:y,loop:i,currentTabStopId:v,onItemFocus:t.useCallback(e=>N(e),[N]),onItemShiftTab:t.useCallback(()=>k(!0),[]),onFocusableItemAdd:t.useCallback(()=>E(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>E(e=>e-1),[]),children:(0,r.jsx)(j.WV.div,{tabIndex:w||0===S?-1:0,"data-orientation":l,...p,ref:b,style:{outline:"none",...e.style},onMouseDown:(0,o.M)(e.onMouseDown,()=>{R.current=!0}),onFocus:(0,o.M)(e.onFocus,e=>{let a=!R.current;if(e.target===e.currentTarget&&a&&!w){let a=new CustomEvent(ex,eu);if(e.currentTarget.dispatchEvent(a),!a.defaultPrevented){let e=_().filter(e=>e.focusable);eR([e.find(e=>e.active),e.find(e=>e.id===v),...e].filter(Boolean).map(e=>e.ref.current),g)}}R.current=!1}),onBlur:(0,o.M)(e.onBlur,()=>k(!1))})})}),ek="RovingFocusGroupItem",eC=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:s,focusable:l=!0,active:i=!1,tabStopId:n,children:d,...c}=e,m=(0,u.M)(),x=n||m,h=ev(ek,s),g=h.currentTabStopId===x,p=ep(s),{onFocusableItemAdd:f,onFocusableItemRemove:b,currentTabStopId:y}=h;return t.useEffect(()=>{if(l)return f(),()=>b()},[l,f,b]),(0,r.jsx)(eg.ItemSlot,{scope:s,id:x,focusable:l,active:i,children:(0,r.jsx)(j.WV.span,{tabIndex:g?0:-1,"data-orientation":h.orientation,...c,ref:a,onMouseDown:(0,o.M)(e.onMouseDown,e=>{l?h.onItemFocus(x):e.preventDefault()}),onFocus:(0,o.M)(e.onFocus,()=>h.onItemFocus(x)),onKeyDown:(0,o.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){h.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let a=function(e,a,s){var r;let t=(r=e.key,"rtl"!==s?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===a&&["ArrowLeft","ArrowRight"].includes(t))&&!("horizontal"===a&&["ArrowUp","ArrowDown"].includes(t)))return e_[t]}(e,h.orientation,h.dir);if(void 0!==a){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=p().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===a)s.reverse();else if("prev"===a||"next"===a){"prev"===a&&s.reverse();let r=s.indexOf(e.currentTarget);s=h.loop?function(e,a){return e.map((s,r)=>e[(a+r)%e.length])}(s,r+1):s.slice(r+1)}setTimeout(()=>eR(s))}}),children:"function"==typeof d?d({isCurrentTabStop:g,hasTabStop:null!=y}):d})})});eC.displayName=ek;var e_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eR(e,a=!1){let s=document.activeElement;for(let r of e)if(r===s||(r.focus({preventScroll:a}),document.activeElement!==s))return}var eS="Tabs",[eE,eM]=(0,x.b)(eS,[ej]),eI=ej(),[eD,eZ]=eE(eS),eF=t.forwardRef((e,a)=>{let{__scopeTabs:s,value:t,onValueChange:l,defaultValue:i,orientation:n="horizontal",dir:d,activationMode:c="automatic",...o}=e,m=(0,em.gm)(d),[x,g]=(0,h.T)({prop:t,onChange:l,defaultProp:i??"",caller:eS});return(0,r.jsx)(eD,{scope:s,baseId:(0,u.M)(),value:x,onValueChange:g,orientation:n,dir:m,activationMode:c,children:(0,r.jsx)(j.WV.div,{dir:m,"data-orientation":n,...o,ref:a})})});eF.displayName=eS;var eA="TabsList",ez=t.forwardRef((e,a)=>{let{__scopeTabs:s,loop:t=!0,...l}=e,i=eZ(eA,s),n=eI(s);return(0,r.jsx)(eN,{asChild:!0,...n,orientation:i.orientation,dir:i.dir,loop:t,children:(0,r.jsx)(j.WV.div,{role:"tablist","aria-orientation":i.orientation,...l,ref:a})})});ez.displayName=eA;var eP="TabsTrigger",eq=t.forwardRef((e,a)=>{let{__scopeTabs:s,value:t,disabled:l=!1,...i}=e,n=eZ(eP,s),d=eI(s),c=eO(n.baseId,t),m=eL(n.baseId,t),x=t===n.value;return(0,r.jsx)(eC,{asChild:!0,...d,focusable:!l,active:x,children:(0,r.jsx)(j.WV.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:c,...i,ref:a,onMouseDown:(0,o.M)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():n.onValueChange(t)}),onKeyDown:(0,o.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&n.onValueChange(t)}),onFocus:(0,o.M)(e.onFocus,()=>{let e="manual"!==n.activationMode;x||l||!e||n.onValueChange(t)})})})});eq.displayName=eP;var eT="TabsContent",eV=t.forwardRef((e,a)=>{let{__scopeTabs:s,value:l,forceMount:i,children:n,...d}=e,c=eZ(eT,s),o=eO(c.baseId,l),m=eL(c.baseId,l),x=l===c.value,u=t.useRef(x);return t.useEffect(()=>{let e=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(b.z,{present:i||x,children:({present:s})=>(0,r.jsx)(j.WV.div,{"data-state":x?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":o,hidden:!s,id:m,tabIndex:0,...d,ref:a,style:{...e.style,animationDuration:u.current?"0s":void 0},children:s&&n})})});function eO(e,a){return`${e}-trigger-${a}`}function eL(e,a){return`${e}-content-${a}`}eV.displayName=eT;let e$=t.forwardRef(({className:e,...a},s)=>r.jsx(ez,{ref:s,className:(0,et.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...a}));e$.displayName=ez.displayName;let eB=t.forwardRef(({className:e,...a},s)=>r.jsx(eq,{ref:s,className:(0,et.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...a}));eB.displayName=eq.displayName;let eH=t.forwardRef(({className:e,...a},s)=>r.jsx(eV,{ref:s,className:(0,et.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));eH.displayName=eV.displayName;var eY=s(8443),eW=s(2015),eG=s(9280),eQ=s(5290),eU=s(6557);let eK=(0,eU.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var eX=s(9639);let eJ="properties-images";async function e0(e){try{if(!e.type.startsWith("image/"))return{success:!1,error:"El archivo debe ser una imagen"};if(e.size>5242880)return{success:!1,error:"La imagen es demasiado grande (m\xe1ximo 5MB)"};let a=e.name.split(".").pop(),s=`${Date.now()}_${Math.random().toString(36).substring(2)}.${a}`,{data:r,error:t}=await l.O.storage.from(eJ).upload(s,e);if(t)return{success:!1,error:t.message};let{data:i}=l.O.storage.from(eJ).getPublicUrl(s);return{success:!0,url:i.publicUrl}}catch(e){return{success:!1,error:"Error al subir la imagen"}}}function e1({value:e,onChange:a}){let[s,l]=(0,t.useState)(!1),[i,d]=(0,t.useState)(""),c=(0,t.useRef)(null),o=e?e.split(",").map(e=>e.trim()).filter(e=>e):[],m=async e=>{let s=Array.from(e.target.files||[]);if(0!==s.length){l(!0),d("");try{let e=s.map(e=>e0(e)),r=await Promise.all(e),t=[],l=[];if(r.forEach((e,a)=>{e.success&&e.url?t.push(e.url):l.push(`${s[a].name}: ${e.error}`)}),t.length>0){let e=[...o,...t];a(e.join(", "))}l.length>0&&d(l.join(", "))}catch(e){d("Error al subir las im\xe1genes")}finally{l(!1),c.current&&(c.current.value="")}}},x=e=>{a(o.filter((a,s)=>s!==e).join(", "))};return(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(n.z,{type:"button",variant:"outline",onClick:()=>c.current?.click(),disabled:s,className:"bg-white hover:bg-gray-50",children:s?(0,r.jsxs)(r.Fragment,{children:[r.jsx(eQ.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Subiendo..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(eK,{className:"h-4 w-4 mr-2"}),"Subir Im\xe1genes"]})}),r.jsx("input",{ref:c,type:"file",multiple:!0,accept:"image/*",onChange:m,className:"hidden"})]}),i&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-2",children:r.jsx("p",{className:"text-sm text-red-600",children:i})}),o.length>0&&r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:o.map((e,a)=>(0,r.jsxs)("div",{className:"relative group",children:[r.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:r.jsx("img",{src:e,alt:`Imagen ${a+1}`,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="",e.currentTarget.style.display="none"}})}),r.jsx(n.z,{type:"button",size:"sm",variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6 p-0 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>x(a),children:r.jsx(er.Z,{className:"h-3 w-3"})})]},a))}),0===o.length&&r.jsx("p",{className:"text-sm text-gray-500",children:"No hay im\xe1genes seleccionadas"})]})}function e2({formData:e,onInputChange:a,onSubmit:s,isLoading:t,isEditing:l,onCancel:i}){return(0,r.jsxs)("form",{onSubmit:s,className:"space-y-6 bg-white text-gray-900",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx(c._,{htmlFor:"title",className:"text-gray-700 font-medium",children:"T\xedtulo *"}),r.jsx(d.I,{id:"title",value:e.title,onChange:e=>a("title",e.target.value),placeholder:"Ej: Casa moderna en el centro",required:!0,className:"mt-1 bg-white border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[r.jsx(c._,{htmlFor:"price",className:"text-gray-700 font-medium",children:"Precio *"}),r.jsx(d.I,{id:"price",type:"number",step:"0.01",min:"0",value:e.price,onChange:e=>a("price",e.target.value),placeholder:"250000",required:!0,className:"mt-1 bg-white border-gray-300 text-gray-900 focus:border-primary-400 focus:ring-primary-400"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[r.jsx(c._,{htmlFor:"currency",className:"text-gray-700 font-medium",children:"Moneda"}),(0,r.jsxs)(eG.Ph,{value:e.currency,onValueChange:e=>a("currency",e),children:[r.jsx(eG.i4,{className:"mt-1 bg-white border-gray-300 focus:border-blue-500",children:r.jsx(eG.ki,{})}),(0,r.jsxs)(eG.Bw,{className:"bg-white border border-gray-200",children:[r.jsx(eG.Ql,{value:"USD",children:"USD"}),r.jsx(eG.Ql,{value:"ARS",children:"ARS"}),r.jsx(eG.Ql,{value:"EUR",children:"EUR"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx(c._,{htmlFor:"operation_type",className:"text-gray-700 font-medium",children:"Operaci\xf3n *"}),(0,r.jsxs)(eG.Ph,{value:e.operation_type,onValueChange:e=>a("operation_type",e),children:[r.jsx(eG.i4,{className:"mt-1 bg-white border-gray-300 focus:border-blue-500",children:r.jsx(eG.ki,{placeholder:"Seleccionar"})}),(0,r.jsxs)(eG.Bw,{className:"bg-white border border-gray-200",children:[r.jsx(eG.Ql,{value:"venta",children:"Venta"}),r.jsx(eG.Ql,{value:"alquiler",children:"Alquiler"})]})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx(c._,{htmlFor:"property_type",className:"text-gray-700 font-medium",children:"Tipo de Propiedad *"}),(0,r.jsxs)(eG.Ph,{value:e.property_type,onValueChange:e=>a("property_type",e),children:[r.jsx(eG.i4,{className:"mt-1 bg-white border-gray-300 focus:border-blue-500",children:r.jsx(eG.ki,{placeholder:"Seleccionar"})}),(0,r.jsxs)(eG.Bw,{className:"bg-white border border-gray-200",children:[r.jsx(eG.Ql,{value:"casa",children:"Casa"}),r.jsx(eG.Ql,{value:"apartamento",children:"Apartamento"}),r.jsx(eG.Ql,{value:"oficina",children:"Oficina"}),r.jsx(eG.Ql,{value:"local",children:"Local"}),r.jsx(eG.Ql,{value:"terreno",children:"Terreno"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[r.jsx(c._,{htmlFor:"bedrooms",className:"text-gray-700 font-medium",children:"Dormitorios"}),r.jsx(d.I,{id:"bedrooms",type:"number",min:"0",max:"20",value:e.bedrooms,onChange:e=>a("bedrooms",e.target.value),className:"mt-1 bg-white border-gray-300 text-gray-900 focus:border-primary-400 focus:ring-primary-400"})]}),(0,r.jsxs)("div",{children:[r.jsx(c._,{htmlFor:"bathrooms",className:"text-gray-700 font-medium",children:"Ba\xf1os"}),r.jsx(d.I,{id:"bathrooms",type:"number",min:"0",max:"20",value:e.bathrooms,onChange:e=>a("bathrooms",e.target.value),className:"mt-1 bg-white border-gray-300 text-gray-900 focus:border-primary-400 focus:ring-primary-400"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[r.jsx(c._,{htmlFor:"area_m2",className:"text-gray-700 font-medium",children:"\xc1rea (m\xb2)"}),r.jsx(d.I,{id:"area_m2",type:"number",step:"0.01",min:"0",value:e.area_m2,onChange:e=>a("area_m2",e.target.value),placeholder:"150.5",className:"mt-1 bg-white border-gray-300 text-gray-900 focus:border-primary-400 focus:ring-primary-400"})]}),(0,r.jsxs)("div",{children:[r.jsx(c._,{htmlFor:"lot_area_m2",className:"text-gray-700 font-medium",children:"\xc1rea del Lote (m\xb2)"}),r.jsx(d.I,{id:"lot_area_m2",type:"number",step:"0.01",min:"0",value:e.lot_area_m2,onChange:e=>a("lot_area_m2",e.target.value),placeholder:"200.0",className:"mt-1 bg-white border-gray-300 text-gray-900 focus:border-primary-400 focus:ring-primary-400"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx(c._,{htmlFor:"address",className:"text-gray-700 font-medium",children:"Direcci\xf3n"}),r.jsx(d.I,{id:"address",value:e.address,onChange:e=>a("address",e.target.value),placeholder:"Calle San Mart\xedn 123",className:"mt-1 bg-white border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[r.jsx(c._,{htmlFor:"neighborhood",className:"text-gray-700 font-medium",children:"Barrio"}),r.jsx(d.I,{id:"neighborhood",value:e.neighborhood,onChange:e=>a("neighborhood",e.target.value),placeholder:"Centro",className:"mt-1 bg-white border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[r.jsx(c._,{htmlFor:"city",className:"text-gray-700 font-medium",children:"Ciudad"}),r.jsx(d.I,{id:"city",value:e.city,onChange:e=>a("city",e.target.value),className:"mt-1 bg-white border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[r.jsx(c._,{htmlFor:"province",className:"text-gray-700 font-medium",children:"Provincia"}),r.jsx(d.I,{id:"province",value:e.province,onChange:e=>a("province",e.target.value),className:"mt-1 bg-white border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500"})]})]}),(0,r.jsxs)("div",{children:[r.jsx(c._,{htmlFor:"features",className:"text-gray-700 font-medium",children:"Caracter\xedsticas (separadas por comas)"}),r.jsx(d.I,{id:"features",value:e.features,onChange:e=>a("features",e.target.value),placeholder:"garage, jard\xedn, piscina, aire acondicionado",className:"mt-1 bg-white border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ejemplos: garage, jard\xedn, piscina, aire acondicionado, cocina equipada, seguridad 24h"})]}),(0,r.jsxs)("div",{children:[r.jsx(c._,{className:"text-gray-700 font-medium",children:"Im\xe1genes de la Propiedad"}),r.jsx(e1,{value:e.images,onChange:e=>a("images",e)})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[r.jsx(c._,{htmlFor:"status",className:"text-gray-700 font-medium",children:"Estado"}),(0,r.jsxs)(eG.Ph,{value:e.status,onValueChange:e=>a("status",e),children:[r.jsx(eG.i4,{className:"mt-1 bg-white border-gray-300 focus:border-blue-500",children:r.jsx(eG.ki,{})}),(0,r.jsxs)(eG.Bw,{className:"bg-white border border-gray-200",children:[r.jsx(eG.Ql,{value:"disponible",children:"Disponible"}),r.jsx(eG.Ql,{value:"vendido",children:"Vendido"}),r.jsx(eG.Ql,{value:"alquilado",children:"Alquilado"}),r.jsx(eG.Ql,{value:"reservado",children:"Reservado"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 pt-8",children:[r.jsx("input",{type:"checkbox",id:"featured",checked:e.featured,onChange:e=>a("featured",e.target.checked),className:"h-4 w-4 rounded border-gray-300 bg-white focus:border-primary-400 focus:ring-primary-400"}),r.jsx(c._,{htmlFor:"featured",className:"text-sm font-medium text-gray-700 leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Propiedad Destacada"})]})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx(c._,{htmlFor:"description",className:"text-gray-700 font-medium",children:"Descripci\xf3n"}),r.jsx(eW.g,{id:"description",value:e.description,onChange:e=>a("description",e.target.value),placeholder:"Descripci\xf3n detallada de la propiedad. Incluye detalles sobre las comodidades, ubicaci\xf3n, estado de la propiedad, etc.",rows:4,className:"mt-1 bg-white border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 resize-none"})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[r.jsx(n.z,{type:"button",variant:"outline",onClick:i,disabled:t,className:"bg-white hover:bg-gray-50 text-gray-700 border-gray-300",children:"Cancelar"}),r.jsx(n.z,{type:"submit",disabled:t,className:"min-w-[140px] bg-primary-400 hover:bg-primary-500 text-white",children:t?(0,r.jsxs)(r.Fragment,{children:[r.jsx(eQ.Z,{className:"mr-2 h-4 w-4 animate-spin"}),l?"Actualizando...":"Creando..."]}):l?"Actualizar Propiedad":"Crear Propiedad"})]})]})}let e5=(0,s(9360).j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),e4=t.forwardRef(({className:e,variant:a,...s},t)=>r.jsx("div",{ref:t,role:"alert",className:(0,et.cn)(e5({variant:a}),e),...s}));e4.displayName="Alert",t.forwardRef(({className:e,...a},s)=>r.jsx("h5",{ref:s,className:(0,et.cn)("mb-1 font-medium leading-none tracking-tight",e),...a})).displayName="AlertTitle";let e6=t.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,et.cn)("text-sm [&_p]:leading-relaxed",e),...a}));e6.displayName="AlertDescription";let e3=(0,eU.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),e7=(0,eU.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),e9=(0,eU.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),e8=(0,eU.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ae=(0,eU.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function aa(){let[e,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)(null),[d,c]=(0,t.useState)(null),[o,m]=(0,t.useState)(null),x=(e,a)=>{m({type:e,text:a}),setTimeout(()=>m(null),5e3)},u=async()=>{a(!0);try{let e=await (0,eX.In)();e.success&&e.stats?(l(e.stats),x("success","Estad\xedsticas cargadas correctamente")):x("error",e.error||"Error al cargar estad\xedsticas")}catch(e){x("error","Error inesperado al cargar estad\xedsticas")}finally{a(!1)}},h=async()=>{a(!0);try{let e=await (0,eX.y9)();e.success&&e.data?(c(e.data),x("success",`An\xe1lisis completado: ${e.data.orphanedFiles.length} im\xe1genes hu\xe9rfanas encontradas`)):x("error",e.error||"Error al analizar im\xe1genes hu\xe9rfanas")}catch(e){x("error","Error inesperado durante el an\xe1lisis")}finally{a(!1)}},g=async(e=!0)=>{a(!0);try{let a=await (0,eX.iQ)(e);if(a.success){let s=e?"simular\xedan":"eliminaron";x("success",`${e?"Simulaci\xf3n":"Limpieza"} completada: ${a.deletedCount} archivos se ${s}`),e||(await u(),c(null))}else x("error",a.error||"Error durante la limpieza")}catch(e){x("error","Error inesperado durante la limpieza")}finally{a(!1)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Gesti\xf3n de Storage"}),(0,r.jsxs)(n.z,{onClick:u,disabled:e,variant:"outline",children:[e?r.jsx(eQ.Z,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(e9,{className:"w-4 h-4 mr-2"}),"Actualizar Estad\xedsticas"]})]}),o&&r.jsx(e4,{className:"error"===o.type?"border-red-500":"warning"===o.type?"border-yellow-500":"border-green-500",children:r.jsx(e6,{children:o.text})}),s&&(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsxs)(i.ll,{className:"flex items-center justify-between",children:["Estad\xedsticas del Storage",(e=>{switch(e){case"excelente":return(0,r.jsxs)(eY.C,{variant:"default",className:"bg-green-500",children:[r.jsx(e3,{className:"w-3 h-3 mr-1"}),"Excelente"]});case"bueno":return r.jsx(eY.C,{variant:"secondary",className:"bg-blue-500 text-white",children:"Bueno"});case"regular":return r.jsx(eY.C,{variant:"outline",className:"border-yellow-500 text-yellow-600",children:"Regular"});case"requiere_atencion":return(0,r.jsxs)(eY.C,{variant:"destructive",children:[r.jsx(e7,{className:"w-3 h-3 mr-1"}),"Requiere Atenci\xf3n"]});default:return r.jsx(eY.C,{variant:"outline",children:"Desconocido"})}})(s.storageHealth)]}),(0,r.jsxs)(i.SZ,{children:["\xdaltima actualizaci\xf3n: ",new Date(s.lastCheck).toLocaleString()]})]}),r.jsx(i.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.totalFiles}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total de archivos"})]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.referencedImages}),r.jsx("div",{className:"text-sm text-gray-600",children:"Im\xe1genes referenciadas"})]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.orphanedImages}),r.jsx("div",{className:"text-sm text-gray-600",children:"Im\xe1genes hu\xe9rfanas"})]})]})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[r.jsx(i.ll,{children:"An\xe1lisis de Im\xe1genes Hu\xe9rfanas"}),r.jsx(i.SZ,{children:"Encuentra y gestiona archivos que no est\xe1n siendo referenciados por ninguna propiedad"})]}),(0,r.jsxs)(i.aY,{className:"space-y-4",children:[(0,r.jsxs)(n.z,{onClick:h,disabled:e,children:[e?r.jsx(eQ.Z,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(e8,{className:"w-4 h-4 mr-2"}),"Analizar Im\xe1genes Hu\xe9rfanas"]}),d&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Archivos en Storage:"})," ",d.totalFilesInStorage]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Archivos hu\xe9rfanos:"})," ",d.orphanedFiles.length]})]}),d.orphanedFiles.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e4,{children:[r.jsx(e7,{className:"h-4 w-4"}),(0,r.jsxs)(e6,{children:["Se encontraron ",d.orphanedFiles.length," archivos hu\xe9rfanos que pueden ser eliminados."]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-semibold",children:"Archivos hu\xe9rfanos encontrados:"}),r.jsx("div",{className:"max-h-40 overflow-y-auto bg-gray-50 p-3 rounded border text-sm",children:d.orphanedFiles.map((e,a)=>(0,r.jsxs)("div",{className:"py-1",children:[a+1,". ",e]},a))})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(n.z,{onClick:()=>g(!0),disabled:e,variant:"outline",children:[e?r.jsx(eQ.Z,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(e8,{className:"w-4 h-4 mr-2"}),"Simular Limpieza"]}),(0,r.jsxs)(n.z,{onClick:()=>g(!1),disabled:e,variant:"destructive",children:[e?r.jsx(eQ.Z,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(ae,{className:"w-4 h-4 mr-2"}),"Eliminar Archivos Hu\xe9rfanos"]})]})]}),0===d.orphanedFiles.length&&(0,r.jsxs)(e4,{children:[r.jsx(e3,{className:"h-4 w-4"}),r.jsx(e6,{children:"\xa1Excelente! No se encontraron im\xe1genes hu\xe9rfanas. El Storage est\xe1 limpio."})]})]})]})]}),(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:r.jsx(i.ll,{children:"Mejores Pr\xe1cticas"})}),r.jsx(i.aY,{children:(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("p",{children:["• ",r.jsx("strong",{children:"An\xe1lisis regular:"})," Ejecuta el an\xe1lisis de im\xe1genes hu\xe9rfanas semanalmente"]}),(0,r.jsxs)("p",{children:["• ",r.jsx("strong",{children:"Simula antes de limpiar:"})," Siempre usa la simulaci\xf3n antes de eliminar archivos"]}),(0,r.jsxs)("p",{children:["• ",r.jsx("strong",{children:"Backup:"})," Considera hacer respaldo antes de eliminar grandes cantidades de archivos"]}),(0,r.jsxs)("p",{children:["• ",r.jsx("strong",{children:"Monitoreo:"}),' Mant\xe9n el estado del Storage en "Excelente" o "Bueno"']}),(0,r.jsxs)("p",{children:["• ",r.jsx("strong",{children:"Eliminaci\xf3n segura:"})," Usa la funci\xf3n de eliminaci\xf3n segura para propiedades futuras"]})]})})]})]})}let as=(0,eU.Z)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),ar=(0,eU.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function at({onViewDetails:e}){let[a,s]=(0,t.useState)(null),[l,d]=(0,t.useState)(!0),[c,o]=(0,t.useState)(null),m=async()=>{try{d(!0),o(null);let e=await (0,eX.In)();e.success&&e.stats?s(e.stats):o(e.error||"Error al cargar estad\xedsticas")}catch(e){o("Error inesperado")}finally{d(!1)}};return(0,r.jsxs)(i.Zb,{className:"bg-white border border-gray-200 shadow-sm",children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsxs)(i.ll,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(as,{className:"h-4 w-4"}),"Estado del Storage"]}),r.jsx(n.z,{variant:"ghost",size:"sm",onClick:m,disabled:l,className:"h-8 w-8 p-0",children:l?r.jsx(eQ.Z,{className:"h-4 w-4 animate-spin"}):r.jsx(ar,{className:"h-4 w-4"})})]}),r.jsx(i.aY,{children:l?r.jsx("div",{className:"flex items-center justify-center py-4",children:r.jsx(eQ.Z,{className:"h-6 w-6 animate-spin text-gray-400"})}):c?(0,r.jsxs)("div",{className:"text-center py-4",children:[r.jsx("p",{className:"text-sm text-red-600 mb-2",children:c}),r.jsx(n.z,{variant:"outline",size:"sm",onClick:m,children:"Reintentar"})]}):a?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Estado:"}),(e=>{switch(e){case"excelente":return(0,r.jsxs)(eY.C,{variant:"default",className:"bg-green-500 text-white",children:[r.jsx(e3,{className:"w-3 h-3 mr-1"}),"Excelente"]});case"bueno":return r.jsx(eY.C,{variant:"secondary",className:"bg-blue-500 text-white",children:"Bueno"});case"regular":return r.jsx(eY.C,{variant:"outline",className:"border-yellow-500 text-yellow-600",children:"Regular"});case"requiere_atencion":return(0,r.jsxs)(eY.C,{variant:"destructive",children:[r.jsx(e7,{className:"w-3 h-3 mr-1"}),"Requiere Atenci\xf3n"]});default:return r.jsx(eY.C,{variant:"outline",children:"Desconocido"})}})(a.storageHealth)]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Total:"}),r.jsx("span",{className:"font-medium ml-1",children:a.totalFiles})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Hu\xe9rfanas:"}),r.jsx("span",{className:`font-medium ml-1 ${(e=>{switch(e){case"excelente":return"text-green-600";case"bueno":return"text-blue-600";case"regular":return"text-yellow-600";case"requiere_atencion":return"text-red-600";default:return"text-gray-600"}})(a.storageHealth)}`,children:a.orphanedImages})]})]}),a.orphanedImages>0&&(0,r.jsxs)("div",{className:"pt-2 border-t border-gray-100",children:[(0,r.jsxs)("p",{className:"text-xs text-gray-500 mb-2",children:["Se encontraron ",a.orphanedImages," im\xe1genes hu\xe9rfanas"]}),r.jsx(n.z,{variant:"outline",size:"sm",onClick:e,className:"w-full text-xs h-7",children:"Gestionar Storage"})]}),0===a.orphanedImages&&r.jsx("div",{className:"pt-2 border-t border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[r.jsx(e3,{className:"w-3 h-3"}),"Storage optimizado"]})})]}):null})]})}var al=s(5047),ai=s(165),an=s(5920);let ad=(0,eU.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var ac=s(8787);let ao=(0,eU.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),am=(0,eU.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),ax=(0,eU.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);var au=s(7636),ah=s(9877);function ag(){let e=(0,al.useRouter)(),[a,s]=(0,t.useState)(null),[o,m]=(0,t.useState)(null),[x,u]=(0,t.useState)(!0),[h,g]=(0,t.useState)(""),[p,f]=(0,t.useState)(!1),[b,j]=(0,t.useState)(ah.CH),[y,v]=(0,t.useState)(null),[N,w]=(0,t.useState)("overview"),[k,C]=(0,t.useState)(!1),[_,R]=(0,t.useState)(!1),{properties:S,isLoading:M,error:D,stats:Z,createProperty:F,updateProperty:A,deleteProperty:z,propertyToFormData:P,clearError:q}=(0,ah.hG)(),T=()=>{j(ah.CH),v(null),q()},V=async e=>{e.preventDefault();try{C(!0);(y?await A(y.id,b):await F(b))&&(f(!1),T())}catch(e){console.error("Error al guardar propiedad:",e)}finally{C(!1)}},O=e=>{v(e),j(P(e)),f(!0)},L=async(e,a)=>{confirm(`\xbfEst\xe1s seguro de que quieres eliminar la propiedad "${a}"?

Esto eliminar\xe1 tanto la propiedad como sus im\xe1genes del Storage.`)&&!await z(e)&&D&&alert(D)},$=async()=>{try{R(!0);let{error:a}=await l.O.auth.signOut();if(a){console.error("Error al cerrar sesi\xf3n:",a),g("Error al cerrar sesi\xf3n"),R(!1);return}e.push("/admin/login"),setTimeout(()=>{window.location.href="/admin/login"},100)}catch(e){console.error("Error al cerrar sesi\xf3n:",e),g("Error al cerrar sesi\xf3n"),R(!1)}};return x?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx(eQ.Z,{className:"h-10 w-10 animate-spin text-primary"}),r.jsx(ai.Z,{className:"absolute inset-0 h-10 w-10 text-primary/20"})]}),r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Verificando permisos de administrador..."})]})}):h?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx(i.Zb,{className:"w-full max-w-md",children:r.jsx(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4 text-center",children:[r.jsx(e7,{className:"h-12 w-12 text-red-500"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Error de Acceso"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h})]}),r.jsx(n.z,{onClick:()=>e.push("/admin/login"),className:"w-full",children:"Volver al Login"})]})})})}):a&&o?r.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"container mx-auto p-6",children:[r.jsx("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:r.jsx(ai.Z,{className:"h-6 w-6 text-blue-600"})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Panel de Administraci\xf3n"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Sistema de gesti\xf3n de propiedades inmobiliarias"})]})]}),r.jsx(n.z,{onClick:$,disabled:_,variant:"outline",className:"hover:bg-red-50 hover:text-red-600 hover:border-red-200 bg-white",children:_?(0,r.jsxs)(r.Fragment,{children:[r.jsx(eQ.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Cerrando..."]}):"Cerrar Sesi\xf3n"})]})}),(0,r.jsxs)(eF,{value:N,onValueChange:w,className:"space-y-6",children:[(0,r.jsxs)(e$,{className:"grid w-full grid-cols-4 bg-white border border-gray-200",children:[r.jsx(eB,{value:"overview",className:"data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700 data-[state=active]:border-blue-200",children:"Resumen"}),r.jsx(eB,{value:"properties",className:"data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700 data-[state=active]:border-blue-200",children:"Propiedades"}),(0,r.jsxs)(eB,{value:"storage",className:"data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700 data-[state=active]:border-blue-200",children:[r.jsx(as,{className:"w-4 h-4 mr-1"}),"Storage"]}),r.jsx(eB,{value:"profile",className:"data-[state=active]:bg-blue-50 data-[state=active]:text-blue-700 data-[state=active]:border-blue-200",children:"Perfil"})]}),(0,r.jsxs)(eH,{value:"overview",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(i.Zb,{className:"stats-card",children:r.jsx(i.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Propiedades"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Z.total})]}),r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(an.Z,{className:"h-6 w-6 text-blue-600"})})]})})}),r.jsx(i.Zb,{className:"stats-card",children:r.jsx(i.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En Venta"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Z.ventas})]}),r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(ad,{className:"h-6 w-6 text-green-600"})})]})})}),r.jsx(i.Zb,{className:"stats-card",children:r.jsx(i.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En Alquiler"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Z.alquileres})]}),r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(ac.Z,{className:"h-6 w-6 text-purple-600"})})]})})}),r.jsx(i.Zb,{className:"stats-card",children:r.jsx(i.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Destacadas"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Z.destacadas})]}),r.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:r.jsx(e8,{className:"h-6 w-6 text-orange-600"})})]})})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(i.Zb,{className:"bg-white border border-green-200",children:r.jsx(i.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg w-fit mx-auto mb-3",children:r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})}),r.jsx("p",{className:"text-sm font-medium text-green-700",children:"Disponibles"}),r.jsx("p",{className:"text-xl font-bold text-green-800",children:Z.disponibles})]})})}),r.jsx(i.Zb,{className:"bg-white border border-red-200",children:r.jsx(i.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-lg w-fit mx-auto mb-3",children:r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"})}),r.jsx("p",{className:"text-sm font-medium text-red-700",children:"Vendidas"}),r.jsx("p",{className:"text-xl font-bold text-red-800",children:Z.vendidas})]})})}),r.jsx(i.Zb,{className:"bg-white border border-blue-200",children:r.jsx(i.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg w-fit mx-auto mb-3",children:r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})}),r.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Alquiladas"}),r.jsx("p",{className:"text-xl font-bold text-blue-800",children:Z.alquiladas})]})})}),r.jsx(i.Zb,{className:"bg-white border border-yellow-200",children:r.jsx(i.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg w-fit mx-auto mb-3",children:r.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"})}),r.jsx("p",{className:"text-sm font-medium text-yellow-700",children:"Reservadas"}),r.jsx("p",{className:"text-xl font-bold text-yellow-800",children:Z.reservadas})]})})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(at,{onViewDetails:()=>w("storage")}),(0,r.jsxs)(i.Zb,{className:"bg-white border border-gray-200 shadow-sm md:col-span-1",children:[r.jsx(i.Ol,{className:"border-b border-gray-100",children:(0,r.jsxs)(i.ll,{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(ai.Z,{className:"h-5 w-5 text-green-600"})}),"Bienvenido al Sistema"]})}),r.jsx(i.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Informaci\xf3n del Administrador"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium text-gray-800",children:"Email:"})," ",o.email]}),o.name&&(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium text-gray-800",children:"Nombre:"})," ",o.name]}),o.role&&(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium text-gray-800",children:"Rol:"})," ",o.role]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Estado de la Sesi\xf3n"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{children:"Autenticado correctamente"})]}),(0,r.jsxs)("p",{children:["\xdaltimo acceso: ",new Date().toLocaleString("es-ES")]})]})]})]})})]})]})]}),(0,r.jsxs)(eH,{value:"properties",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gesti\xf3n de Propiedades"}),(0,r.jsxs)(E,{open:p,onOpenChange:f,children:[r.jsx(I,{asChild:!0,children:(0,r.jsxs)(n.z,{onClick:T,className:"flex items-center gap-2 bg-primary-400 hover:bg-primary-500 text-white",children:[r.jsx(ao,{className:"h-4 w-4"}),"Agregar Propiedad"]})}),(0,r.jsxs)(ei,{className:"max-w-4xl max-h-[80vh] overflow-y-auto bg-white",children:[r.jsx(en,{children:r.jsx(ed,{children:y?"Editar Propiedad":"Agregar Nueva Propiedad"})}),D&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 mb-4",children:r.jsx("p",{className:"text-sm text-red-600",children:D})}),r.jsx(e2,{formData:b,onInputChange:(e,a)=>{j(s=>({...s,[e]:a}))},onSubmit:V,isLoading:k,isEditing:!!y,onCancel:()=>f(!1)})]})]})]}),M?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(eQ.Z,{className:"h-8 w-8 animate-spin text-blue-600"})}):0===S.length?r.jsx(i.Zb,{className:"bg-white border border-gray-200",children:(0,r.jsxs)(i.aY,{className:"p-8 text-center",children:[r.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-fit mx-auto mb-4",children:r.jsx(an.Z,{className:"h-12 w-12 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No hay propiedades"}),r.jsx("p",{className:"text-gray-600",children:"Agrega tu primera propiedad para comenzar"})]})}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:S.map(e=>r.jsx(i.Zb,{className:"overflow-hidden bg-white border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:(0,r.jsxs)(i.aY,{className:"p-0",children:[(0,r.jsxs)("div",{className:"h-48 bg-gray-100 flex items-center justify-center relative",children:[e.images.length>0?r.jsx("img",{src:e.images[0],alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="",e.currentTarget.style.display="none"}}):(0,r.jsxs)("div",{className:"flex flex-col items-center text-gray-400",children:[r.jsx(am,{className:"h-12 w-12 mb-2"}),r.jsx("span",{className:"text-sm",children:"Sin imagen"})]}),e.featured&&r.jsx(eY.C,{className:"absolute top-2 left-2 bg-orange-500 hover:bg-orange-600 text-white border-0",children:"Destacada"}),r.jsx(eY.C,{className:`absolute top-2 right-2 border-0 text-white ${"disponible"===e.status?"bg-green-500 hover:bg-green-600":"vendido"===e.status?"bg-red-500 hover:bg-red-600":"alquilado"===e.status?"bg-blue-500 hover:bg-blue-600":"bg-yellow-500 hover:bg-yellow-600"}`,children:e.status})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2",children:e.title}),(0,r.jsxs)("div",{className:"flex gap-1 ml-2",children:[r.jsx(n.z,{size:"sm",variant:"outline",onClick:()=>O(e),className:"h-8 w-8 p-0 bg-white hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200",children:r.jsx(ax,{className:"h-4 w-4"})}),r.jsx(n.z,{size:"sm",variant:"outline",onClick:()=>L(e.id,e.title),className:"h-8 w-8 p-0 bg-white hover:bg-red-50 hover:text-red-600 hover:border-red-200",children:r.jsx(ae,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(ad,{className:"h-4 w-4"}),(0,r.jsxs)("span",{className:"font-semibold text-gray-900",children:[e.currency," ",e.price.toLocaleString()]}),r.jsx(eY.C,{variant:"outline",className:"ml-2 bg-gray-50 text-gray-700 border-gray-200",children:e.operation_type})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(ac.Z,{className:"h-4 w-4"}),r.jsx("span",{children:e.property_type}),e.bedrooms>0&&(0,r.jsxs)("span",{className:"ml-2",children:[e.bedrooms," dorm."]}),e.bathrooms>0&&(0,r.jsxs)("span",{className:"ml-1",children:[e.bathrooms," ba\xf1os"]})]}),(e.address||e.neighborhood)&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(au.Z,{className:"h-4 w-4"}),(0,r.jsxs)("span",{className:"line-clamp-1",children:[e.address,e.address&&e.neighborhood&&", ",e.neighborhood]})]}),e.area_m2&&(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["\xc1rea: ",e.area_m2," m\xb2"]})]}),e.description&&r.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:e.description}),e.features.length>0&&(0,r.jsxs)("div",{className:"mt-2 flex flex-wrap gap-1",children:[e.features.slice(0,3).map((e,a)=>r.jsx(eY.C,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700 hover:bg-gray-200",children:e},a)),e.features.length>3&&(0,r.jsxs)(eY.C,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:["+",e.features.length-3," m\xe1s"]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-400 mt-3 pt-2 border-t border-gray-100",children:["Creada: ",new Date(e.created_at).toLocaleDateString("es-ES")]})]})]})},e.id))})]}),(0,r.jsxs)(eH,{value:"storage",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Gesti\xf3n de Storage de Im\xe1genes"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Administra las im\xe1genes del bucket de Supabase, identifica y limpia archivos hu\xe9rfanos"})]}),r.jsx(aa,{})]}),r.jsx(eH,{value:"profile",className:"space-y-6",children:(0,r.jsxs)(i.Zb,{className:"bg-white border border-gray-200 shadow-sm",children:[r.jsx(i.Ol,{className:"border-b border-gray-100",children:r.jsx(i.ll,{children:"Informaci\xf3n del Perfil"})}),r.jsx(i.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx(c._,{className:"text-gray-700 font-medium",children:"Email"}),r.jsx(d.I,{value:o.email,disabled:!0,className:"mt-1 bg-gray-50 border-gray-200"})]}),o.name&&(0,r.jsxs)("div",{children:[r.jsx(c._,{className:"text-gray-700 font-medium",children:"Nombre"}),r.jsx(d.I,{value:o.name,disabled:!0,className:"mt-1 bg-gray-50 border-gray-200"})]}),o.role&&(0,r.jsxs)("div",{children:[r.jsx(c._,{className:"text-gray-700 font-medium",children:"Rol"}),r.jsx(d.I,{value:o.role,disabled:!0,className:"mt-1 bg-gray-50 border-gray-200"})]}),(0,r.jsxs)("div",{children:[r.jsx(c._,{className:"text-gray-700 font-medium",children:"Fecha de Registro"}),r.jsx(d.I,{value:new Date(o.created_at).toLocaleString("es-ES"),disabled:!0,className:"mt-1 bg-gray-50 border-gray-200"})]})]})})]})})]})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx(i.Zb,{className:"w-full max-w-md",children:r.jsx(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx(e7,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Acceso Denegado"}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"No tienes permisos para acceder a esta p\xe1gina"}),r.jsx(n.z,{className:"mt-4 w-full",onClick:()=>e.push("/admin/login"),children:"Ir al Login"})]})})})})}},1190:(e,a,s)=>{"use strict";s.d(a,{I:()=>i});var r=s(326),t=s(7577),l=s(1223);let i=t.forwardRef(({className:e,type:a,...s},t)=>r.jsx("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-gray-300 bg-white text-gray-900 px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-gray-900 placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...s}));i.displayName="Input"},7299:(e,a,s)=>{"use strict";s.d(a,{_:()=>o});var r=s(326),t=s(7577),l=s(5226),i=t.forwardRef((e,a)=>(0,r.jsx)(l.WV.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var n=s(9360),d=s(1223);let c=(0,n.j)("text-sm font-medium leading-none text-gray-700 peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef(({className:e,...a},s)=>r.jsx(i,{ref:s,className:(0,d.cn)(c(),e),...a}));o.displayName=i.displayName},9280:(e,a,s)=>{"use strict";s.d(a,{Bw:()=>g,Ph:()=>o,Ql:()=>p,i4:()=>x,ki:()=>m});var r=s(326),t=s(7577),l=s(3326),i=s(8393),n=s(6633),d=s(2933),c=s(1223);let o=l.fC;l.ZA;let m=l.B4,x=t.forwardRef(({className:e,children:a,...s},t)=>(0,r.jsxs)(l.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border bg-white text-gray-900 border-gray-200 px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[a,r.jsx(l.JO,{asChild:!0,children:r.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));x.displayName=l.xz.displayName;let u=t.forwardRef(({className:e,...a},s)=>r.jsx(l.u_,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:r.jsx(n.Z,{className:"h-4 w-4"})}));u.displayName=l.u_.displayName;let h=t.forwardRef(({className:e,...a},s)=>r.jsx(l.$G,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:r.jsx(i.Z,{className:"h-4 w-4"})}));h.displayName=l.$G.displayName;let g=t.forwardRef(({className:e,children:a,position:s="popper",...t},i)=>r.jsx(l.h_,{children:(0,r.jsxs)(l.VY,{ref:i,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white text-gray-900 border-gray-200 shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...t,children:[r.jsx(u,{}),r.jsx(l.l_,{className:(0,c.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),r.jsx(h,{})]})}));g.displayName=l.VY.displayName,t.forwardRef(({className:e,...a},s)=>r.jsx(l.__,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=l.__.displayName;let p=t.forwardRef(({className:e,children:a,...s},t)=>(0,r.jsxs)(l.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm text-gray-900 outline-none hover:bg-gray-100 focus:bg-gray-100 data-[highlighted]:bg-gray-100",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(l.wU,{children:r.jsx(d.Z,{className:"h-4 w-4"})})}),r.jsx(l.eT,{children:a})]}));p.displayName=l.ck.displayName,t.forwardRef(({className:e,...a},s)=>r.jsx(l.Z0,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=l.Z0.displayName},2015:(e,a,s)=>{"use strict";s.d(a,{g:()=>i});var r=s(326),t=s(7577),l=s(1223);let i=t.forwardRef(({className:e,...a},s)=>r.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white text-gray-900 px-3 py-2 text-sm ring-offset-background placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));i.displayName="Textarea"},3624:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\dev\proyecto-inmobiliaria\src\app\admin\dashboard\page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),r=a.X(0,[363,759,957,62,428],()=>s(2773));module.exports=r})();